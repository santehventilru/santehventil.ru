import { AnimatePresence ,motion } from "framer-motion";
import { useDispatch, useSelector } from "react-redux";
import { AppDispatch, RootState } from "redux_tollkit/store/store";
import {setToogleFav} from '@reduxSlice/favProdSlice'



export default function FavCardBtn(){

    const favCount = useSelector((state:RootState) => state.favProductsSlice.favCount)
    const dispatch = useDispatch<AppDispatch>()
    const handelFav = () => dispatch(setToogleFav())

    if(favCount > 0) return <AnimatePresence>
            {(
                <motion.button
                    initial={{ x: "100%", opacity: 0 }}
                    animate={{ x: 0, opacity: 1 }}
                    exit={{ x: "100%", opacity: 0 }}
                    transition={{ type: "spring", stiffness: 100, damping: 15 }}
                    className={`fav-item-wp`}
                    onClick={handelFav}

                >
                <svg width="21" height="18" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg" className='fav-count-svg'>
                  <path d="M10.0742 17.8873C9.78949 17.8873 9.51498 17.7842 9.30106 17.5968C8.4931 16.8903 7.71414 16.2264 7.02689 15.6408L7.02338 15.6377C5.00845 13.9207 3.26849 12.4378 2.05786 10.9771C0.70456 9.34409 0.0742191 7.79578 0.074219 6.10434C0.0742189 4.46097 0.637726 2.94485 1.66083 1.83508C2.69614 0.712189 4.11673 0.0937498 5.66138 0.0937498C6.81586 0.0937497 7.87314 0.45874 8.80377 1.1785C9.27344 1.54181 9.69916 1.98645 10.0742 2.5051C10.4494 1.98645 10.875 1.54181 11.3448 1.1785C12.2755 0.45874 13.3327 0.0937494 14.4872 0.0937494C16.0317 0.0937493 17.4525 0.712188 18.4878 1.83508C19.5109 2.94485 20.0742 4.46097 20.0742 6.10434C20.0742 7.79578 19.444 9.34408 18.0907 10.9769C16.8801 12.4378 15.1403 13.9205 13.1257 15.6374C12.4372 16.224 11.657 16.8889 10.8472 17.5971C10.6335 17.7842 10.3588 17.8873 10.0742 17.8873ZM5.66138 1.26532C4.44785 1.26532 3.33304 1.74963 2.52203 2.62915C1.69897 3.52194 1.24564 4.75607 1.24564 6.10434C1.24564 7.52692 1.77435 8.79919 2.95981 10.2296C4.10559 11.6122 5.80985 13.0645 7.78311 14.7462L7.78677 14.7492C8.47662 15.3371 9.25864 16.0036 10.0725 16.7153C10.8913 16.0023 11.6746 15.3347 12.3658 14.7458C14.3389 13.0642 16.043 11.6122 17.1888 10.2296C18.3741 8.79919 18.9028 7.52692 18.9028 6.10434C18.9028 4.75607 18.4495 3.52194 17.6264 2.62915C16.8156 1.74963 15.7006 1.26532 14.4872 1.26532C13.5982 1.26532 12.782 1.54791 12.0614 2.10516C11.4191 2.60199 10.9717 3.23004 10.7094 3.66949C10.5746 3.89548 10.3371 4.03036 10.0742 4.03036C9.81131 4.03036 9.57388 3.89548 9.439 3.66949C9.17685 3.23004 8.72946 2.60199 8.08707 2.10516C7.36639 1.54791 6.5502 1.26532 5.66138 1.26532Z" fill="#7880B5"/>
                  <path d="M10 17C9.74374 17 9.49669 16.9072 9.30415 16.7388C8.577 16.1035 7.87593 15.5065 7.2574 14.9799L7.25424 14.9772C5.44081 13.4332 3.87485 12.0998 2.78528 10.7863C1.56731 9.31791 1 7.92567 1 6.40473C1 4.92701 1.50716 3.56372 2.42795 2.56581C3.35973 1.5561 4.63826 1 6.02844 1C7.06747 1 8.01903 1.3282 8.8566 1.97541C9.2793 2.3021 9.66245 2.70192 10 3.16828C10.3377 2.70192 10.7207 2.3021 11.1435 1.97541C11.9811 1.3282 12.9327 0.999999 13.9717 0.999999C15.3617 0.999999 16.6404 1.5561 17.5722 2.56581C18.493 3.56372 19 4.92701 19 6.40473C19 7.92567 18.4328 9.31791 17.2149 10.7862C16.1253 12.0998 14.5595 13.433 12.7463 14.9769C12.1267 15.5043 11.4245 16.1023 10.6957 16.739C10.5033 16.9072 10.2561 17 10 17ZM9.5 14.5C8.40782 14.5 9.7299 13.2091 9 14C8.25925 14.8028 9.30415 13.2697 9.30415 14.4821C9.30415 15.7613 7.93309 12.7138 9 14C10.0312 15.2432 7.72406 12.9878 9.5 14.5C10.1209 15.0287 9.5 12 10 13C10.5 12 11.4403 14.7047 12.0624 14.1752C13.8382 12.663 9.66451 16.3954 10.6957 15.1522C11.7625 13.866 11.3754 15.4574 11.3754 14.1782C11.3754 12.9658 12.4256 13.0084 11.6848 12.2056C10.955 11.4147 13.8383 13.592 12.7463 13.592C11.9462 13.592 12.3334 13.6771 11.6848 14.1782C11.1068 14.6249 8.17407 11.1048 7.938 11.5C7.81661 11.7032 10.2366 10.1141 10 10.1141C9.76338 10.1141 10.5717 23.7847 10 14.5C9.76407 14.1048 10.5948 15.2174 10.0167 14.7706C9.36807 14.2695 10.2999 14.5 9.5 14.5Z" fill="#7880B5"/>
                  <text x="50%" y="50%" textAnchor="middle" fill="#fff" fontSize="14px" dy=".3em">
                    {favCount}
                  </text>
                </svg>

                    
                </motion.button>
            )}
            {/* {fav && <FavModal fav={fav} handelFav={handelFav}/>} */}
        </AnimatePresence>
}