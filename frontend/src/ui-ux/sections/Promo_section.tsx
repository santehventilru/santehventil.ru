import React, {  useState } from "react"
import SlideMain from "../Cards/SlideMain"
import SliderRound from "../Cards/SliderRound"
import {AnimatePresence, motion} from "framer-motion"
import { Link } from "react-router-dom"



export interface SliderComponentMain{
    idSlider:string,
    textHeader: string,
    textSlider:string,
    path:string,
    textBtn:string,
    imgRef:string,

}


const slideRound = [
    {
        slideIndex:0
    },
    {
        slideIndex:1
    },
    {
        slideIndex:2
    },
    {
        slideIndex:3
    }
]



const arrSlider : SliderComponentMain[] = [
    {
        idSlider: 's1',
        textHeader: 'Все для ванной',
        textSlider: 'Класная ванная двано мечатли ?/Тогда пора задуматься о жизни бро/Купи ванну и думай о жизни сколько захочешь!!!',
        path: '/product/catalog',
        textBtn: 'Поехали',
        imgRef: '/img/santexMain3t.webp',
    },
    {
        idSlider: 's2',
        textHeader: 'Выгодно',
        textSlider: 'Класная ванная двано мечатли ?/Тогда пора задуматься о жизни бро/Купи ванну и думай о жизни сколько захочешь!!!',
        path: '/product/catalog',
        textBtn: 'Поехали',
        imgRef: '/img/santexMainBg6.webp',
    },
    {
        idSlider: 's3',
        textHeader: 'Выгодно',
        textSlider: 'Класная ванная двано мечатли ?/Тогда пора задуматься о жизни бро/Купи ванну и думай о жизни сколько захочешь!!!',
        path: '/product/catalog',
        textBtn: 'Поехали',
        imgRef: '/img/santeMainBg22.webp',
    },
    {
        idSlider: 's4',
        textHeader: 'Все для ванной',
        textSlider: 'Класная ванная двано мечатли ?/Тогда пора задуматься о жизни бро/Купи ванну и думай о жизни сколько захочешь!!!',
        path: '/product/catalog',
        textBtn: 'Поехали',
        imgRef: '/img/santexMain3t.webp',
    },
]

const  PromoSection= React.memo(() => {


    const [isIndex, setIndex] = useState<number>(0)
    const [isLeft , setLeft] = useState<boolean>(true)
    console.log(arrSlider.length)

    const handelNext = () => {
        let index  = isIndex + 1
        if(arrSlider.length - 1  < index){
            setIndex(0)
        }else{
            setIndex(index )
            setLeft(false)
        }
    }
    const handelPrev = () => {
        let index  =  isIndex - 1 
        if(0 >   index){
            setIndex(arrSlider.length - 1)
        }else{
            setIndex(index)
            setLeft(true)
        }
    }

   

    


    return <section id="promo">
            
    <div className="container  container-promo"> 

        <div className="bg-round-main-promo"></div>
        <div className="slider-wp-for-nav" id="slider-art-wp">
            <article className="item-big-promo " id="main-promo-info">
                <AnimatePresence mode="wait">
                    <motion.div
                    key={isIndex}
                    initial={{x:isLeft ? -100 : 100, opacity:0}}
                    animate={{opacity:1, x:0}}
                    exit={{x:isLeft ? 100 : -100, opacity:0}}
                    transition={{duration:0.3}}
                    style={{
                        height:'100%',
                        position:'relative'
                    }}

                    >
                    
                        {arrSlider.map((slide ,index) => (
                            index === isIndex ? <SlideMain key={slide.path + String(index)} {...slide}/> : null
                            
                        ))}
                    </motion.div>
                </AnimatePresence>
            </article>

            <div className="slider-article-nav">
                <button id="btn-lf-art" className="btn-artcile-slider" onClick={handelPrev} >
                    <svg className="slider-svg-art" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M38.8125 25.3125H20.9486L27.9045 18.36C28.5626 17.7019 28.5626 16.6387 27.9045 15.9637C27.2447 15.3056 26.1765 15.3056 25.5167 15.9637L15.9705 25.515C15.5672 25.92 15.4406 26.4769 15.5334 27C15.4406 27.5231 15.5672 28.08 15.9705 28.485L25.5167 38.0363C26.1765 38.6944 27.2447 38.6944 27.9045 38.0363C28.5626 37.3782 28.5626 36.2981 27.9045 35.64L20.9486 28.6875H38.8125C39.744 28.6875 40.5 27.9281 40.5 27C40.5 26.0719 39.744 25.3125 38.8125 25.3125ZM27 50.625C13.9523 50.625 3.375 40.0444 3.375 27C3.375 13.9556 13.9523 3.375 27 3.375C40.0477 3.375 50.625 13.9556 50.625 27C50.625 40.0444 40.0477 50.625 27 50.625ZM27 0C12.0892 0 0 12.0825 0 27C0 41.9175 12.0892 54 27 54C41.9108 54 54 41.9175 54 27C54 12.0825 41.9108 0 27 0Z" fill="white"/>
                    </svg>
                        
                </button>
                <div className="round-slider-wp">
                    {slideRound.map(round => <SliderRound key={round.slideIndex} isIndex={isIndex} {...round}/>)}
                </div>
                <button id="btn-rt-art" className="btn-artcile-slider" onClick={handelNext}>
                    <svg className="slider-svg-art" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.1875 25.3125H33.0514L26.0955 18.36C25.4374 17.7019 25.4374 16.6387 26.0955 15.9637C26.7553 15.3056 27.8235 15.3056 28.4833 15.9637L38.0295 25.515C38.4328 25.92 38.5594 26.4769 38.4666 27C38.5594 27.5231 38.4328 28.08 38.0295 28.485L28.4833 38.0363C27.8235 38.6944 26.7553 38.6944 26.0955 38.0363C25.4374 37.3782 25.4374 36.2981 26.0955 35.64L33.0514 28.6875H15.1875C14.256 28.6875 13.5 27.9281 13.5 27C13.5 26.0719 14.256 25.3125 15.1875 25.3125ZM27 50.625C40.0477 50.625 50.625 40.0444 50.625 27C50.625 13.9556 40.0477 3.375 27 3.375C13.9523 3.375 3.375 13.9556 3.375 27C3.375 40.0444 13.9523 50.625 27 50.625ZM27 0C41.9108 0 54 12.0825 54 27C54 41.9175 41.9108 54 27 54C12.0892 54 0 41.9175 0 27C0 12.0825 12.0892 0 27 0Z" fill="white"/>
                    </svg>
                        
                </button>
            </div>
        </div>

        <div className="container-item-promo">
            <article className="item-promo-1">
               
                <h2 className="text-poromo-titel--itme2" id="art2">Комплектующие<wbr/> для теплого пола</h2>
                
                <Link to="/product/8-otoplenie/20-tyoplye-poly" style={{alignSelf:'end'}}>
                    <svg style={{width:40 , height:40}}viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier"> 
                        <path d="M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g>
                    </svg>
                </Link>

            </article>
            <article className="item-promo-2">
                <h2 className="text-poromo-titel--itme2">Программа лояльности</h2>
                <p className="text-pormo-item2">
                    Преимущества и скидки <br/>
                    для юр. лиц
                </p>
                <svg width="86" height="85" viewBox="0 0 86 85" fill="none" xmlns="http://www.w3.org/2000/svg" className="svg-promo-position">
                    <path d="M37.6335 54.204L39.665 51.8501C40.0105 51.4506 40.2224 50.9535 40.2711 50.428L40.5005 47.404C40.5851 46.5323 40.8005 45.6782 41.1394 44.8703C40.2875 44.3472 39.3864 43.8405 38.4199 43.3501L35.0287 41.7155C31.0968 40.0809 30.4907 38.4463 30.4907 36.8117C30.5622 35.9105 30.8136 35.0328 31.23 34.2299C31.6464 33.4271 32.2194 32.7154 32.9153 32.1367C34.0665 30.9354 34.9665 29.5174 35.5628 27.9654C36.1591 26.4134 36.4398 24.7585 36.3884 23.0972C36.3884 16.3299 32.4566 10.4453 25.5103 10.4453H24.7567C17.7941 10.4617 13.895 16.3463 13.895 23.1136C13.84 24.7753 14.1189 26.4313 14.7154 27.9837C15.3119 29.5362 16.2139 30.9538 17.3681 32.153C18.0719 32.7236 18.6493 33.4337 19.0638 34.2384C19.4784 35.0431 19.721 35.9249 19.7764 36.828C19.7764 38.4626 19.3177 40.0972 15.2548 41.7319C9.48808 44.3636 4.21286 46.9136 3.91797 52.3078C4.21286 56.0674 6.78494 58.8463 10.0942 58.8463H35.5529C35.7693 57.1271 36.4936 55.5111 37.6335 54.204Z" fill="#F6D863"/>
                    <path d="M42.6958 23.4239C42.6425 27.2557 41.6046 31.0097 39.6814 34.3268C39.5224 34.6005 39.4199 34.9033 39.38 35.2172C39.3401 35.5311 39.3636 35.8498 39.4491 36.1545C39.5346 36.4591 39.6804 36.7437 39.8778 36.9913C40.0753 37.2388 40.3205 37.4445 40.5988 37.596C42.0733 38.4297 43.646 39.3124 45.1696 40.3749C46.2352 39.8118 47.4071 39.4777 48.61 39.3941L51.8865 39.1652C52.2449 39.1385 52.5845 38.9949 52.8531 38.7566L55.4251 36.5989C56.3939 35.8363 57.509 35.28 58.7017 34.9643C56.7768 33.4837 54.6746 32.2483 52.4435 31.2864C49.0359 29.7499 48.2987 28.3931 48.2987 26.7422C48.5283 25.1443 49.2629 23.6611 50.3957 22.5085C51.4624 21.4801 52.2975 20.2368 52.8455 18.8615C53.3935 17.4861 53.6418 16.0101 53.5739 14.5316C53.7214 8.51621 50.2974 3.2364 43.9081 3.2364C42.2517 3.22973 40.6226 3.65825 39.1847 4.47888C37.7468 5.29952 36.5508 6.48336 35.7168 7.9114C37.9974 9.78742 39.8135 12.1631 41.024 14.8535C42.2344 17.544 42.8065 20.4768 42.6958 23.4239Z" fill="#F6D863"/>
                    <path d="M69.2186 63.3574C68.6095 63.3574 68.014 63.5377 67.5075 63.8753C67.001 64.213 66.6062 64.693 66.3731 65.2545C66.14 65.816 66.079 66.4339 66.1979 67.03C66.3167 67.6261 66.61 68.1737 67.0408 68.6035C67.4715 69.0333 68.0203 69.326 68.6177 69.4445C69.2152 69.5631 69.8345 69.5022 70.3973 69.2697C70.96 69.0371 71.4411 68.6432 71.7795 68.1378C72.1179 67.6324 72.2986 67.0383 72.2986 66.4305C72.2986 65.6155 71.9741 64.8338 71.3965 64.2575C70.8189 63.6812 70.0355 63.3574 69.2186 63.3574Z" fill="#F6D863"/>
                    <path d="M52.9851 50.7545C52.3759 50.7545 51.7805 50.9347 51.274 51.2724C50.7675 51.6101 50.3727 52.09 50.1396 52.6516C49.9065 53.2131 49.8455 53.831 49.9643 54.4271C50.0832 55.0232 50.3765 55.5708 50.8072 56.0006C51.238 56.4303 51.7868 56.723 52.3842 56.8416C52.9817 56.9602 53.6009 56.8993 54.1637 56.6667C54.7265 56.4341 55.2075 56.0402 55.546 55.5349C55.8844 55.0295 56.065 54.4354 56.065 53.8276C56.065 53.0125 55.7405 52.2309 55.1629 51.6546C54.5853 51.0783 53.8019 50.7545 52.9851 50.7545ZM52.9851 50.7545C52.3759 50.7545 51.7805 50.9347 51.274 51.2724C50.7675 51.6101 50.3727 52.09 50.1396 52.6516C49.9065 53.2131 49.8455 53.831 49.9643 54.4271C50.0832 55.0232 50.3765 55.5708 50.8072 56.0006C51.238 56.4303 51.7868 56.723 52.3842 56.8416C52.9817 56.9602 53.6009 56.8993 54.1637 56.6667C54.7265 56.4341 55.2075 56.0402 55.546 55.5349C55.8844 55.0295 56.065 54.4354 56.065 53.8276C56.065 53.0125 55.7405 52.2309 55.1629 51.6546C54.5853 51.0783 53.8019 50.7545 52.9851 50.7545ZM81.409 57.293L79.0827 54.4978C78.3899 53.6852 77.9815 52.6695 77.9195 51.6045L77.6574 48.041C77.5829 46.9494 77.1189 45.9205 76.3495 45.1408C75.5801 44.3611 74.5562 43.8823 73.4634 43.791L70.3507 43.5458C68.9573 43.4147 67.6426 42.8419 66.5991 41.9112L64.24 39.8353C63.408 39.1218 62.3472 38.7295 61.2501 38.7295C60.1531 38.7295 59.0923 39.1218 58.2603 39.8353L55.6882 41.993C54.7354 42.8028 53.5461 43.2844 52.297 43.366L49.0205 43.5949C47.924 43.6715 46.8905 44.1343 46.1043 44.9008C45.3181 45.6673 44.8304 46.6875 44.7282 47.7795L44.4989 50.8199C44.3599 52.218 43.7872 53.5379 42.8606 54.5958L40.8128 56.9497C40.104 57.7828 39.7148 58.8401 39.7148 59.9329C39.7148 61.0257 40.104 62.0829 40.8128 62.916L43.0408 65.5805C43.788 66.4771 44.2298 67.5877 44.3023 68.7516L44.5644 72.1843C44.6351 73.2745 45.0957 74.3032 45.8624 75.0832C46.6291 75.8631 47.6509 76.3426 48.742 76.4343L51.8711 76.7122C53.2547 76.8433 54.559 77.4166 55.5899 78.3468L57.9654 80.4064C58.8044 81.1118 59.8663 81.4987 60.9634 81.4987C62.0606 81.4987 63.1225 81.1118 63.9615 80.4064L66.681 78.1343C67.4941 77.4079 68.5129 76.951 69.5971 76.8266L73.1685 76.5651C74.2623 76.4978 75.2952 76.0394 76.0776 75.2737C76.86 74.5081 77.3394 73.4867 77.428 72.3968L77.7885 69.5689C77.904 68.0247 78.5126 66.558 79.525 65.3843L81.4254 63.2103C82.1314 62.3845 82.5178 61.3339 82.5148 60.2486C82.5118 59.1632 82.1195 58.1148 81.409 57.293ZM47.1201 53.8276C47.1169 52.6655 47.4594 51.5287 48.1045 50.5612C48.7495 49.5937 49.6678 48.839 50.7432 48.3928C51.8185 47.9466 53.0024 47.829 54.1448 48.0549C55.2872 48.2808 56.3367 48.8401 57.1602 49.6618C57.9837 50.4834 58.5442 51.5306 58.7706 52.6704C58.997 53.8103 58.8792 54.9915 58.432 56.0645C57.9848 57.1374 57.2284 58.0538 56.2588 58.6973C55.2891 59.3409 54.1497 59.6827 52.9851 59.6795C51.4296 59.6795 49.9378 59.063 48.8379 57.9655C47.738 56.8681 47.1201 55.3796 47.1201 53.8276ZM55.6391 72.691C55.5986 72.7623 55.542 72.8231 55.4737 72.8685C55.4054 72.9139 55.3274 72.9427 55.2459 72.9526H53.3783C53.2899 72.9528 53.2033 72.9285 53.128 72.8823C53.0528 72.8361 52.9919 72.7698 52.9523 72.691C52.9037 72.6185 52.8778 72.5331 52.8778 72.4458C52.8778 72.3586 52.9037 72.2732 52.9523 72.2006L66.468 47.4853C66.5128 47.4193 66.571 47.3635 66.6387 47.3212C66.7064 47.279 66.7822 47.2514 66.8612 47.2401H68.8763C68.9975 47.2969 69.0914 47.3992 69.1374 47.5247C69.1835 47.6502 69.1779 47.7888 69.122 47.9103L55.6391 72.691ZM69.2203 72.2824C68.0571 72.2824 66.92 71.9382 65.9528 71.2934C64.9856 70.6486 64.2318 69.7321 63.7866 68.6598C63.3415 67.5875 63.225 66.4076 63.4519 65.2693C63.6789 64.1309 64.239 63.0853 65.0616 62.2646C65.8841 61.4439 66.932 60.885 68.0729 60.6586C69.2138 60.4322 70.3963 60.5484 71.471 60.9925C72.5457 61.4367 73.4642 62.1888 74.1105 63.1539C74.7568 64.1189 75.1017 65.2535 75.1017 66.4141C75.1017 67.1847 74.9496 67.9478 74.654 68.6598C74.3584 69.3718 73.9252 70.0187 73.3791 70.5636C72.8329 71.1085 72.1846 71.5408 71.471 71.8357C70.7575 72.1306 69.9927 72.2824 69.2203 72.2824ZM56.1142 53.8276C56.1142 53.2198 55.9335 52.6256 55.5951 52.1203C55.2567 51.6149 54.7757 51.221 54.2129 50.9884C53.6501 50.7558 53.0308 50.695 52.4334 50.8135C51.8359 50.9321 51.2871 51.2248 50.8564 51.6546C50.4256 52.0844 50.1323 52.6319 50.0135 53.228C49.8946 53.8242 49.9556 54.4421 50.1887 55.0036C50.4219 55.5651 50.8166 56.0451 51.3231 56.3827C51.8296 56.7204 52.4251 56.9006 53.0342 56.9006C53.8425 56.8878 54.6134 56.5583 55.1804 55.9834C55.7474 55.4085 56.0651 54.6342 56.065 53.8276H56.1142Z" fill="#F6D863"/>
                    </svg>
                    
                <a href="/loyaltyProg" className="button-promo--loyalty">
                    Ознакомиться
                </a>
            </article>
            
        </div>
    </div>
</section>
})
export default PromoSection